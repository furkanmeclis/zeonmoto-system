import{r as d,P as H,O as x,c as T,D as P,X as U,u as M,j as e,S as L,x as D}from"./app-B59_a-Ye.js";import{_ as q,f}from"./utils-DRoNOS-F.js";import{D as V}from"./dialog.esm-CuNa4w-n.js";import{K as I,I as g}from"./inputtext.esm-CTHQ-iH7.js";import{C as Y,u as G,a as X,T as $}from"./tooltip.esm-B-2-g6Yd.js";import{D as J}from"./dropdown.esm-CWytGfT1.js";import{m as Q}from"./proxy-D8Wm0KU6.js";import"./index.esm-DW8y1Uyj.js";import"./index.esm-0xyp7FgO.js";import"./overlayservice.esm-DahC6qcq.js";import"./index.esm-Dd3MCO2E.js";function z(){return z=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)({}).hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},z.apply(null,arguments)}function j(n){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},j(n)}function W(n,s){if(j(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,s||"default");if(j(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}function Z(n){var s=W(n,"string");return j(s)=="symbol"?s:s+""}function ee(n,s,a){return(s=Z(s))in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,n}var te={root:function(s){var a=s.props,r=s.context,t=s.isFilled;return T("p-inputtextarea p-inputtext p-component",{"p-disabled":a.disabled,"p-filled":t,"p-inputtextarea-resizable":a.autoResize,"p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":r&&r.inputStyle==="filled"})}},se=`
@layer primereact {
    .p-inputtextarea-resizable {
        overflow: hidden;
        resize: none;
    }
    
    .p-fluid .p-inputtextarea {
        width: 100%;
    }
}
`,v=Y.extend({defaultProps:{__TYPE:"InputTextarea",__parentMetadata:null,autoResize:!1,invalid:!1,variant:null,keyfilter:null,onBlur:null,onFocus:null,onBeforeInput:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0,className:null},css:{classes:te,styles:se}});function C(n,s){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);s&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),a.push.apply(a,r)}return a}function K(n){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?C(Object(a),!0).forEach(function(r){ee(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var B=d.memo(d.forwardRef(function(n,s){var a=G(),r=d.useContext(H),t=v.getProps(n,r),p=d.useRef(s),i=d.useRef(0),h=v.setMetaData(K(K({props:t},t.__parentMetadata),{},{context:{disabled:t.disabled}})),m=h.ptm,N=h.cx,w=h.isUnstyled;X(v.css.styles,w,{name:"inputtextarea"});var b=function(c){t.autoResize&&y(),t.onFocus&&t.onFocus(c)},l=function(c){t.autoResize&&y(),t.onBlur&&t.onBlur(c)},S=function(c){t.autoResize&&y(),t.onKeyUp&&t.onKeyUp(c)},O=function(c){t.onKeyDown&&t.onKeyDown(c),t.keyfilter&&I.onKeyPress(c,t.keyfilter,t.validateOnly)},E=function(c){t.onBeforeInput&&t.onBeforeInput(c),t.keyfilter&&I.onBeforeInput(c,t.keyfilter,t.validateOnly)},R=function(c){t.onPaste&&t.onPaste(c),t.keyfilter&&I.onPaste(c,t.keyfilter,t.validateOnly)},k=function(c){var o=c.target;t.autoResize&&y(x.isEmpty(o.value)),t.onInput&&t.onInput(c),x.isNotEmpty(o.value)?P.addClass(o,"p-filled"):P.removeClass(o,"p-filled")},y=function(c){var o=p.current;o&&P.isVisible(o)&&(i.current||(i.current=o.scrollHeight,o.style.overflow="hidden"),(i.current!==o.scrollHeight||c)&&(o.style.height="",o.style.height=o.scrollHeight+"px",parseFloat(o.style.height)>=parseFloat(o.style.maxHeight)?(o.style.overflowY="scroll",o.style.height=o.style.maxHeight):o.style.overflow="hidden",i.current=o.scrollHeight))};d.useEffect(function(){x.combinedRefs(p,s)},[p,s]),d.useEffect(function(){t.autoResize&&y(!0)},[t.autoResize]);var F=d.useMemo(function(){return x.isNotEmpty(t.value)||x.isNotEmpty(t.defaultValue)},[t.value,t.defaultValue]),_=x.isNotEmpty(t.tooltip),A=a({ref:p,className:T(t.className,N("root",{context:r,isFilled:F})),onFocus:b,onBlur:l,onKeyUp:S,onKeyDown:O,onBeforeInput:E,onInput:k,onPaste:R},v.getOtherProps(t),m("root"));return d.createElement(d.Fragment,null,d.createElement("textarea",A),_&&d.createElement($,z({target:p,content:t.tooltip,pt:m("tooltip")},t.tooltipOptions)))}));B.displayName="InputTextarea";const xe=({cart:n,total:s})=>{var b;const{auth:a}=U().props,{pricesVisible:r}=M(),[t,p]=d.useState(!1),[i,h]=d.useState({fullName:((b=a==null?void 0:a.user)==null?void 0:b.name)||"",phone:"",address:"",city:"",district:"",shippingType:"ALICI_ODER",notes:""}),m=(l,S)=>{h(O=>({...O,[l]:S}))},N=[{label:"Alıcı Öder",value:"ALICI_ODER"},{label:"Satıcı Öder",value:"SATICI_ODER"}],w=()=>{p(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"Paylaşılan Sepet"}),e.jsxs("div",{id:"print-content",className:"hidden print:block",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-16 mx-auto logo-print"}),e.jsx("span",{className:"text-gray-600 text-center",children:new Date().toLocaleDateString("tr-TR")})]})}),e.jsx("th",{colSpan:"2",className:"text-center bg-gray-100",children:"Müşteri ve Kargo Bilgileri"}),e.jsx("th",{children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(q,{value:window.location.href,size:80,style:{width:"2cm",height:"2cm"}})})})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold w-1/4",children:"Ad Soyad:"}),e.jsx("td",{className:"w-1/4",children:i.fullName||"..........................."}),e.jsx("td",{className:"font-semibold w-1/4",children:"Telefon:"}),e.jsx("td",{className:"w-1/4",children:i.phone||"..........................."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:"İl:"}),e.jsx("td",{children:i.city||"..........................."}),e.jsx("td",{className:"font-semibold",children:"İlçe:"}),e.jsx("td",{children:i.district||"..........................."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:"Adres:"}),e.jsx("td",{colSpan:"3",children:i.address||"..........................."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:"Kargo Ödemesi:"}),e.jsx("td",{colSpan:"3",children:i.shippingType==="ALICI_ODER"?"Alıcı Öder":"Satıcı Öder"})]}),i.notes&&e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:"Not:"}),e.jsx("td",{colSpan:"3",children:i.notes})]})]})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left",children:"Ürün"}),e.jsx("th",{className:"text-center",children:"SKU"}),e.jsx("th",{className:"text-center",children:"Birim Fiyat"}),e.jsx("th",{className:"text-center",children:"Adet"}),e.jsx("th",{className:"text-right",children:"Toplam"})]})}),e.jsxs("tbody",{children:[n.items.map(l=>e.jsxs("tr",{children:[e.jsx("td",{children:l.product.name}),e.jsx("td",{className:"text-center",children:l.product.sku||"-"}),e.jsx("td",{className:"text-center",children:r?f(l.product.price):"*** ₺"}),e.jsx("td",{className:"text-center",children:l.quantity}),e.jsx("td",{className:"text-right",children:r?f(l.product.price*l.quantity):"*** ₺"})]},l.id)),e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{colSpan:"4",className:"text-right",children:"Genel Toplam:"}),e.jsx("td",{className:"text-right",children:r?f(s):"*** ₺"})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Bu bir bilgi fişidir, fatura yerine geçmez."}),e.jsx("p",{className:"mt-2",children:"www.zeonmoto.com"})]})]}),e.jsx("style",{type:"text/css",media:"print",children:`
                    @page {
                        size: A4 portrait;
                        margin: 1cm;
                    }
                    @media print {
                        body * {
                            visibility: hidden;
                            font-size: 12px;
                        }
                        #print-content, #print-content * {
                            visibility: visible;
                        }
                        #print-content {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                        }
                        .no-print {
                            display: none !important;
                        }
                        table {
                            width: 100%;
                            border-collapse: collapse;
                            margin-bottom: 20px;
                            font-size: 11px;
                        }
                        th, td {
                            border: 1px solid #ddd;
                            padding: 6px;
                            text-align: left;
                        }
                        th {
                            background-color: #f8f8f8;
                            font-size: 11px;
                        }
                        h1 {
                            font-size: 16px !important;
                        }
                        p {
                            font-size: 11px;
                        }
                        .logo-print {
                            height: 50px !important;
                        }
                    }
                `}),e.jsx("div",{className:"min-h-screen bg-gray-50 print:hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 screen-only",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b pb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:n.cart_name||"İsimsiz Sepet"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Bu sepet sizinle paylaşıldı"})]}),e.jsx("div",{className:"space-y-4",children:n.items.map(l=>e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-20 h-20",children:e.jsx("img",{src:l.product.images[0]||"/logo.png",alt:l.product.name,className:"w-full h-full object-cover rounded-md"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(D,{href:route("new-shop.product.show",l.product.sku),children:e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:l.product.name})}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Adet: ",l.quantity]}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:r?f(l.product.price):"*** ₺"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Toplam: ",r?f(l.product.price*l.quantity):"*** ₺"]})})]},l.id))}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-base font-medium text-gray-900",children:"Toplam"}),e.jsx("span",{className:"text-2xl font-semibold text-yellow-600",children:r?f(s):"*** ₺"})]})}),e.jsxs("div",{className:"flex flex-col space-y-3 no-print",children:[(a==null?void 0:a.user)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(!0),className:"w-full bg-blue-500 text-white py-3 px-4 rounded-md font-medium hover:bg-blue-600 transition-colors",children:"Kargo Bilgilerini Düzenle"}),e.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-md font-medium hover:bg-gray-200 transition-colors",children:"Yazdır"})]}),e.jsx(D,{href:route("new-shop.index"),children:e.jsx("button",{className:"w-full bg-yellow-500 text-white py-3 px-4 rounded-md font-medium hover:bg-yellow-600 transition-colors",children:"Mağazaya Git"})})]})]})})})}),e.jsx(V,{visible:t,onHide:()=>p(!1),header:"Kargo Bilgileri",className:"w-[90vw] md:w-[600px]",footer:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"İptal"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors",children:"Kaydet"})]}),children:e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ad Soyad"}),e.jsx(g,{value:i.fullName,onChange:l=>m("fullName",l.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Telefon"}),e.jsx(g,{value:i.phone,onChange:l=>m("phone",l.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Adres"}),e.jsx(g,{value:i.address,onChange:l=>m("address",l.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"İl"}),e.jsx(g,{value:i.city,onChange:l=>m("city",l.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"İlçe"}),e.jsx(g,{value:i.district,onChange:l=>m("district",l.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Kargo Ödemesi"}),e.jsx(J,{value:i.shippingType,options:N,onChange:l=>m("shippingType",l.value),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Not"}),e.jsx(B,{value:i.notes,onChange:l=>m("notes",l.target.value),rows:3,className:"w-full",placeholder:"Kargo ile ilgili özel notlarınızı buraya yazabilirsiniz..."})]})]})})]})};export{xe as default};
