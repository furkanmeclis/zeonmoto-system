import{r as j,G as N,j as e,S as b}from"./app-Pig5I6s_.js";import{A as v}from"./AuthenticatedLayout-D9TlC9Hs.js";import"./ApplicationLogo-DrcfPo1c.js";import"./transition-BtivIp9i.js";import"./button.esm-DlrAX-hR.js";import"./tooltip.esm-CPsCiA7s.js";import"./index.esm-BA-WXsC_.js";function z({auth:c,pins:d}){const[s,r]=j.useState(null),{data:l,setData:n,post:o,put:m,delete:x,processing:u,errors:i,reset:a}=N({username:"",pin:""}),p=t=>{t.preventDefault(),o(route("pins.store"),{onSuccess:()=>{a()}})},h=t=>{t.preventDefault(),m(route("pins.update",s.id),{onSuccess:()=>{r(null),a()}})},g=t=>{confirm("Bu PIN kaydını silmek istediğinize emin misiniz?")&&x(route("pins.destroy",t))},f=t=>{r(t),n({username:t.username,pin:t.pin})},y=()=>{r(null),a()};return e.jsxs(v,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"PIN Yönetimi"}),children:[e.jsx(b,{title:"PIN Yönetimi"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:s?"PIN Düzenle":"Yeni PIN Ekle"}),e.jsxs("form",{onSubmit:s?h:p,className:"mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Kullanıcı Adı"}),e.jsx("input",{type:"text",id:"username",value:l.username,onChange:t=>n("username",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0}),i.username&&e.jsx("div",{className:"text-red-500 mt-1",children:i.username})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-gray-700",children:"PIN (6 haneli)"}),e.jsx("input",{type:"text",id:"pin",value:l.pin,onChange:t=>n("pin",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",maxLength:"6",pattern:"[0-9]{6}",required:!0}),i.pin&&e.jsx("div",{className:"text-red-500 mt-1",children:i.pin})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:u,children:s?"Güncelle":"Kaydet"}),s&&e.jsx("button",{type:"button",onClick:y,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"İptal"})]})]}),e.jsx("h3",{className:"text-lg font-medium mb-4",children:"PIN Listesi"}),d.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kullanıcı Adı"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PIN"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.username}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.pin}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>f(t),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Düzenle"}),e.jsx("button",{onClick:()=>g(t.id),className:"text-red-600 hover:text-red-900",children:"Sil"})]})]},t.id))})]})}):e.jsx("p",{className:"text-gray-500",children:"Henüz kayıtlı PIN bulunmamaktadır."})]})})})})]})}export{z as default};
